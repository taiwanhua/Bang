@model BangBang.Models.Player

<script type="text/javascript">
   // console.log('@Model.PlayerName.ToString()');
</script>
@{
    ViewBag.Title = "Details";
}
<h2>@Model.PlayerName 個人風雲</h2>


<div style="height:500px"></div>
<table class="table">
    <tr>
        <th>
            日期時間
        </th>
        <th>
            口袋金額
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Walletrecords)
    {
        <tr>

            <td>
                @item.Timestamp.ToString().Substring(0, 4)/@item.Timestamp.ToString().Substring(4, 2)/@item.Timestamp.ToString().Substring(6, 2)-@item.Timestamp.ToString().Substring(8, 2):@item.Timestamp.ToString().Substring(10, 2):@item.Timestamp.ToString().Substring(12, 2)
            </td>
            <td>
                @item.LatestAmount
            </td>
            <td>
            </td>
        </tr>

    }
</table>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);
    //console.log($(".table").children().children().children().toArray().length/3-1)//要娶的有兩元素
    console.log($(".table").children().children().children().eq(3).text())
    console.log($(".table").children().children().children().eq(4).text())
    console.log($(".table").children().children().children().eq(6).text())
    console.log("-----")
    let a = new Array(0);
    let final = new Array(0);
    let rowele=$(".table").children().children().children().toArray().length / 3
    for (let i = 0; i < $(".table").children().children().toArray().length; i++) {

        for (let j1 = 1; j1 < 3; j1++) {
            if (i>0 && 1 == (j1 - 1 + 3 * i) % 3) {
                a[j1 - 1] = parseInt(($(".table").children().children().children().eq(j1 - 1 + 3 * i).text().trim()));
            } else {
                 a[j1-1] = ($(".table").children().children().children().eq(j1-1+3*i).text().trim());
            }

            //a[j]=($(".table").children().children().children().eq(i +3).text().trim());

        }
        final.push(a);
        a = new Array(0);

    }
    //console.log(a)
    console.log(final)



     function drawChart() {
        var data = google.visualization.arrayToDataTable(final);

    @*function drawChart() {
        var data = google.visualization.arrayToDataTable([
            @Model.Walletrecords.
        ]);*@


         var options = {
            chartArea:{position: 'absolute',top:50},
            title: '績效好不好',
            hAxis: { title: '日期',textStyle: {color: '#c7305c'}, titleTextStyle: { color: '#c7305c' } },
            vAxis: { title: '金額',minValue: 0 ,textStyle: {color: '#c7305c'}, titleTextStyle: { color: '#c7305c' } },
            backgroundColor: '#da7752', titleTextStyle: { color: '#c7305c' },
            legend: {
                textStyle: {
                color: '#3366cc'
                }
             }
        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
</script>
<div id="chart_div" style="position:absolute;top:170px; width: 58vw; height: 500px;"></div>

<p>
    @*@Html.ActionLink("Edit", "Edit", new { id = Model.PlayerID })*@
    @Html.ActionLink("上一頁", "Index")
</p>
